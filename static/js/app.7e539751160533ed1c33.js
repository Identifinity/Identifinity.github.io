webpackJsonp([1],{Aihi:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App",data:function(){return{loggedIn:!1,content:"ON"}},methods:{test:function(){this.content="ON"===this.content?"OFF":"ON"}}},a,!1,function(t){n("ZN77")},null,null).exports,o=n("/ocq"),s=n("kxiW"),c=n.n(s),u=(n("881v"),c.a.initializeApp({apiKey:"AIzaSyCpGJavnmcHou0OO5XucqIFjUZsR3ShJ8w",authDomain:"clickncraft-7ca07.firebaseapp.com",databaseURL:"https://clickncraft-7ca07.firebaseio.com",projectId:"clickncraft-7ca07"})),d={db:u.firestore(),auth:u.auth()},l={name:"game",data:function(){return{dataLoaded:!1,nick:null,level:0,email:""}},methods:{getData:function(){var t=this,e=d.db.collection("users");d.auth.onAuthStateChanged(function(n){n&&(console.log(n),e.doc(n.uid).get().then(function(e){if(e.exists){var n=e.data();t.nick=n.nick,t.level=n.level,t.dataLoaded=!0}}).catch(function(t){return alert(t)}))})},logoutUser:function(){d.auth.signOut()}},created:function(){this.getData()}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"game"}},[t.dataLoaded?n("div",{attrs:{id:"game-container"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",{attrs:{id:"inv"}})]):t._e(),t._v(" "),n("div",{staticClass:"info"},[n("i",[t._v("Your hero is signed in!")]),t._v(" "),n("span",[t._v(t._s(t.nick)+" | "+t._s(t.level)+" lvl")]),t._v(" "),n("button",{staticClass:"logoutBtn",on:{click:t.logoutUser}},[t._v("Sign out")])]),t._v(" "),t.dataLoaded?n("div",{staticClass:"disclaimer"},[n("span",{staticStyle:{"font-size":"3rem"}},[t._v("Welcome, the glorious hero!")]),t._v(" "),t._m(2),t._v(" "),n("span",{staticStyle:{"font-size":"2.5rem"}},[t._v("Hope for the best and so long!")])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"info-bubble"}},[e("div",{attrs:{id:"item-name"}},[this._v("Item")]),this._v(" "),e("div",{attrs:{id:"item-desc"}},[this._v("ELO")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"crafting"}},[e("div",{attrs:{id:"crafting-ingredients"}},[e("div",{staticClass:"ingr i1"}),this._v(" "),e("div",{staticClass:"ingr i2"})]),this._v(" "),e("div",{attrs:{id:"crafting-result"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticStyle:{"font-size":"2rem"}},[this._v("\n      This is an early version of\n      "),e("span",{staticStyle:{color:"red"}},[this._v("Click n' Craft!")]),this._v("\n      There's no much content here for now but in the future mechanics and design will be added!\n    ")])}]};var m=n("VU/8")(l,v,!1,function(t){n("Aihi")},"data-v-30e6fd5f",null).exports,h={name:"login",data:function(){return{nick:void 0,password:void 0,email:void 0}},methods:{loginAccount:function(t){var e=this;t.preventDefault(),this.password&&this.email&&d.auth.signInWithEmailAndPassword(this.email,this.password).then(function(t){console.log("Logged in!"),e.$router.push("/")}).catch(function(t){switch(t.code){case"auth/user-not-found":alert("Oops!\nThere's no account accociated with this email. :/\nCreate a new account instead!");break;default:alert("Ups!\n"+t)}})}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[t._m(0),t._v(" "),n("form",{attrs:{id:"signIn"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"text",placeholder:"Your email...",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"pass",type:"password",placeholder:"Your passoword...",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("button",{attrs:{id:"confirmBtn"},on:{click:function(e){return e.preventDefault(),t.loginAccount(e)}}},[t._v("Continue your adventure!")]),t._v(" "),n("router-link",{attrs:{id:"signUpLink",to:"/register"}},[t._v("Create your first hero here!")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[this._v("Continue your adventure\n    "),e("div",[this._v("Click n' Craft v0.1a")])])}]};var f=n("VU/8")(h,p,!1,function(t){n("zYQ8")},"data-v-7951204f",null).exports,g={name:"register",data:function(){return{nick:void 0,password:void 0,email:void 0}},methods:{registerAccount:function(t){t.preventDefault(),this.nick&&this.password&&this.email&&this.createUser(this.email,this.password,this.nick)},createUser:function(t,e,n){var i=this;d.auth.createUserWithEmailAndPassword(t,e).then(function(t){d.db.collection("users").doc(t.user.uid).set({level:1,nick:n,inventory:["stone","stick"]}).then(function(){console.log("Użytkownik został wpisany do bazy!"),i.$router.push("/")})}).catch(function(t){return alert(t)})}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"register"}},[t._m(0),t._v(" "),n("form",{attrs:{id:"signUp"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.nick,expression:"nick"}],attrs:{id:"nick",type:"text",placeholder:"Your nickname...",required:""},domProps:{value:t.nick},on:{input:function(e){e.target.composing||(t.nick=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"text",placeholder:"Your email...",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"pass",type:"password",placeholder:"Your passoword...",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("button",{attrs:{id:"confirmBtn"},on:{click:t.registerAccount}},[t._v("Let the journey begin!")]),t._v(" "),n("router-link",{attrs:{id:"signInLink",to:"/login"}},[t._v("Already a hero? Sign in here!")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[this._v("Sign up your new hero!\n    "),e("div",[this._v("Click n' Craft v0.1a")])])}]};var w=n("VU/8")(g,_,!1,function(t){n("ve4j")},"data-v-477578ab",null).exports;i.a.use(o.a);var k=new o.a({routes:[{path:"/",name:"Game",component:m,meta:{requireLoggedIn:!1}},{path:"/login",name:"Login",component:f,meta:{requireLoggedIn:!1}},{path:"/register",name:"Register",component:w,meta:{requireLoggedIn:!1}}]});k.beforeEach(function(t,e,n){d.auth.onAuthStateChanged(function(e){console.log(e?"Zalogowany!":"Wylogowany"),e?"/login"!=t.path&&"/register"!=t.path||n("/"):"/"==t.path&&n("/register")}),n()});var y=k;i.a.config.productionTip=!1,new i.a({el:"#app",router:y,components:{App:r},template:"<App/>"})},ZN77:function(t,e){},ve4j:function(t,e){},zYQ8:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7e539751160533ed1c33.js.map