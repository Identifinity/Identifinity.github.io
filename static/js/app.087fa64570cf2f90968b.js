webpackJsonp([1],{"32Qh":function(e,t,n){var i={"./diamond.png":"4Cms","./orb.png":"CCd6","./shield.png":"MlBT","./stone.png":"aoVB","./sword.png":"OIoa"};function s(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(i)},s.resolve=o,e.exports=s,s.id="32Qh"},"3BwU":function(e,t){},"4Cms":function(e,t,n){e.exports=n.p+"static/img/diamond.d9b9872.png"},CCd6:function(e,t,n){e.exports=n.p+"static/img/orb.16121d4.png"},Fn5n:function(e,t){},I9gg:function(e,t){},MlBT:function(e,t,n){e.exports=n.p+"static/img/shield.dcb188c.png"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App",data:function(){return{loggedIn:!1,content:"ON"}},methods:{test:function(){this.content="ON"===this.content?"OFF":"ON"}}},s,!1,function(e){n("ZN77")},null,null).exports,a=n("/ocq"),r=n("kxiW"),c=n.n(r),d=(n("881v"),c.a.initializeApp({apiKey:"AIzaSyCpGJavnmcHou0OO5XucqIFjUZsR3ShJ8w",authDomain:"clickncraft-7ca07.firebaseapp.com",databaseURL:"https://clickncraft-7ca07.firebaseio.com",projectId:"clickncraft-7ca07"})),u={db:d.firestore(),auth:d.auth()},l={name:"inventory",props:["passedInv","passedFocused"],data:function(){return{focusedIndex:this.passedFocused,inv:this.passedInv,itemInfo:{show:!1,name:null,desc:null,css:{top:0,left:0}}}},methods:{test:function(){},focusItem:function(e){if(null!=this.focusedIndex)return this.focusedIndex==e&&(this.focusedIndex=null,this.inv[e].focused=!1),this.$emit("updateFocused",null),void this.$emit("updateInv",this.inv);this.inv[e].focused=!0,this.focusedIndex=e,this.$emit("updateInv",this.inv),this.$emit("updateFocused",this.focusedIndex)},getURL:function(e){return null==e?null:n("32Qh")("./"+this.inv[e].itemURL+".png")},showItemInfo:function(e){this.itemInfo.show=!0,this.itemInfo.name=e.name,this.itemInfo.desc=e.desc[0]},hideItemInfo:function(){this.itemInfo.show=!1},updateBubble:function(e){this.itemInfo.css.left=e.clientX+15+"px",this.itemInfo.css.top=e.clientY+15+"px"},resolveColor:function(e){switch(e){case"common":return"darkgray";case"unique":return"lime";case"mythic":return"orangered";default:return"red"}}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"inv"}},[e.itemInfo.show?n("div",{style:e.itemInfo.css,attrs:{id:"info-bubble"}},[n("div",{attrs:{id:"item-name"}},[e._v(e._s(e.itemInfo.name))]),e._v(" "),n("div",{attrs:{id:"item-desc"}},[e._v(e._s(e.itemInfo.desc))])]):e._e(),e._v(" "),e._l(e.inv.filter(function(e){return!e.isIngredient}),function(t){return n("div",{key:t.index,staticClass:"item",class:{focused:t.focused},style:{borderColor:e.resolveColor(t.quality)},on:{click:function(n){return e.focusItem(t.index)},mouseenter:function(n){return e.showItemInfo(t)},mouseleave:function(t){return e.hideItemInfo()},mousemove:function(t){return e.updateBubble(t)}}},[n("img",{attrs:{src:e.getURL(t.index)}})])})],2)},staticRenderFns:[]};var m={name:"game",data:function(){return{dataLoaded:!1,nick:null,level:0,ingredients:[null,null],inv:[],focusedIndex:null,showLog:!0,email:""}},components:{Inventory:n("VU/8")(l,v,!1,function(e){n("Fn5n")},"data-v-137d3630",null).exports},methods:{updateFocused:function(e){console.log("Index updated! ",e),this.focusedIndex=e},updateInv:function(e){console.log("Inventory updated!"),this.inv=e},manageIngredient:function(e){if(null==this.focusedIndex)return null!=this.ingredients[e]&&(this.inv[this.ingredients[e]].isIngredient=!1,this.ingredients[e]=null),void console.log("Zdjęto item");if(null==this.ingredients[e]){var t=this.inv[this.focusedIndex];t.focused=!1,t.isIngredient=!0,this.ingredients[e]=this.focusedIndex,this.focusedIndex=null,console.log("dodano item")}},getURL:function(e){return null==e?null:n("32Qh")("./"+this.inv[e].itemURL+".png")},getData:function(){var e=this,t=u.db.collection("items"),n=u.db.collection("users");u.auth.onAuthStateChanged(function(i){i&&n.doc(i.uid).get().then(function(n){if(n.exists){var i=n.data();e.nick=i.nick,e.level=i.level;for(var s=function(n){var s=i.inventory[n];t.doc(s).get().then(function(t){if(t.exists){var i=t.data();i.focused=!1,i.isIngredient=!1,i.index=n,e.inv.push(i)}})},o=0;o<i.inventory.length;o++)s(o);e.dataLoaded=!0}}).catch(function(e){return alert(e)})})},logoutUser:function(){u.auth.signOut()}},created:function(){this.getData()}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"game"}},[e.dataLoaded&&!e.showLog?n("div",{attrs:{id:"game-container"}},[n("div",{attrs:{id:"crafting"}},[n("div",{attrs:{id:"crafting-ingredients"}},[n("div",{staticClass:"ingr",on:{click:function(t){return e.manageIngredient(0)}}},[n("img",{attrs:{src:e.getURL(e.ingredients[0]),alt:""}})]),e._v(" "),n("div",{staticClass:"ingr",on:{click:function(t){return e.manageIngredient(1)}}},[n("img",{attrs:{src:e.getURL(e.ingredients[1]),alt:""}})])]),e._v(" "),n("div",{attrs:{id:"crafting-result"}})]),e._v(" "),n("Inventory",{attrs:{id:"inv",passedInv:e.inv,passedFocused:e.focusedIndex},on:{updateFocused:e.updateFocused,updateInv:e.updateInv}})],1):e._e(),e._v(" "),e.dataLoaded&&!e.showLog?n("div",{staticClass:"info"},[n("i",[e._v("Your hero is signed in!")]),e._v(" "),n("span",[e._v(e._s(e.nick)+" | "+e._s(e.level)+" lvl")]),e._v(" "),n("button",{staticClass:"logoutBtn",on:{click:e.logoutUser}},[e._v("Sign out")])]):e._e(),e._v(" "),e.dataLoaded&&e.showLog?n("div",{staticClass:"log"},[n("span",{staticStyle:{"font-size":"3rem"}},[e._v("Welcome, the glorious hero!")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),n("div",{staticClass:"version",staticStyle:{"border-top":"1px solid black"}},[e._m(2),e._v(" "),n("button",{staticClass:"logoutBtn",on:{click:e.logoutUser}},[e._v("Sign out")])])]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"version"},[n("span",{staticClass:"name"},[e._v("v0.1-alpha")]),e._v(" "),n("ul",{staticClass:"changes"},[n("li",[e._v("created initial design")]),e._v(" "),n("li",[e._v("created basic game mechanics")]),e._v(" "),n("li",[e._v("created basic register form")]),e._v(" "),n("li",[e._v("deployed the site")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"version"},[n("span",{staticClass:"name"},[e._v("v0.2-alpha (current)")]),e._v(" "),n("ul",{staticClass:"changes"},[n("li",[e._v("design corrections (colors, fonts)")]),e._v(" "),n("li",[e._v("expanded game mechanics to its initial purpose")]),e._v(" "),n("li",[e._v("created user databases and connected them with auth.")]),e._v(" "),n("li",[e._v("made America great again")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"changes"},[t("li",{staticStyle:{"font-size":"1.6rem"}},[this._v("Game currently isn't playable due to technical issues and splitting the code to smaller instances. Coming back soon!")])])}]};var p=n("VU/8")(m,f,!1,function(e){n("3BwU")},"data-v-0e6ad869",null).exports,h={name:"login",data:function(){return{nick:void 0,password:void 0,email:void 0}},methods:{loginAccount:function(e){var t=this;e.preventDefault(),this.password&&this.email&&u.auth.signInWithEmailAndPassword(this.email,this.password).then(function(e){console.log("Logged in!"),t.$router.push("/")}).catch(function(e){switch(e.code){case"auth/user-not-found":alert("Oops!\nThere's no account accociated with this email. :/\nCreate a new account instead!");break;default:alert("Ups!\n"+e)}})}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[e._m(0),e._v(" "),n("form",{attrs:{id:"signIn"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"text",placeholder:"Your email...",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"pass",type:"password",placeholder:"Your passoword...",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("button",{attrs:{id:"confirmBtn"},on:{click:function(t){return t.preventDefault(),e.loginAccount(t)}}},[e._v("Continue your adventure!")]),e._v(" "),n("router-link",{attrs:{id:"signUpLink",to:"/register"}},[e._v("Create your first hero here!")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",[this._v("Continue your adventure\n    "),t("div",[this._v("Click n' Craft v0.2a")])])}]};var _=n("VU/8")(h,g,!1,function(e){n("StkB")},"data-v-8cfc73a4",null).exports,I={name:"register",data:function(){return{nick:void 0,password:void 0,email:void 0}},methods:{registerAccount:function(e){e.preventDefault(),this.nick&&this.password&&this.email&&this.createUser(this.email,this.password,this.nick)},createUser:function(e,t,n){var i=this;u.auth.createUserWithEmailAndPassword(e,t).then(function(e){u.db.collection("users").doc(e.user.uid).set({level:1,experience:1,nick:n,inventory:["stone","stone","stone"]}).then(function(){console.log("Użytkownik został wpisany do bazy!"),i.$router.push("/")})}).catch(function(e){return alert(e)})}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"register"}},[e._m(0),e._v(" "),n("form",{attrs:{id:"signUp"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.nick,expression:"nick"}],attrs:{id:"nick",type:"text",placeholder:"Your nickname...",required:""},domProps:{value:e.nick},on:{input:function(t){t.target.composing||(e.nick=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"text",placeholder:"Your email...",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"pass",type:"password",placeholder:"Your passoword...",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("button",{attrs:{id:"confirmBtn"},on:{click:e.registerAccount}},[e._v("Let the journey begin!")]),e._v(" "),n("router-link",{attrs:{id:"signInLink",to:"/login"}},[e._v("Already a hero? Sign in here!")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",[this._v("Sign up your new hero!\n    "),t("div",[this._v("Click n' Craft v0.2a")])])}]};var x=n("VU/8")(I,w,!1,function(e){n("I9gg")},"data-v-47fb540e",null).exports;i.a.use(a.a);var k=new a.a({routes:[{path:"/",name:"Game",component:p,meta:{requireLoggedIn:!1}},{path:"/login",name:"Login",component:_,meta:{requireLoggedIn:!1}},{path:"/register",name:"Register",component:x,meta:{requireLoggedIn:!1}}]});k.beforeEach(function(e,t,n){u.auth.onAuthStateChanged(function(t){console.log(t?"Zalogowany!":"Wylogowany"),t?"/login"!=e.path&&"/register"!=e.path||n("/"):"/"==e.path&&n("/register")}),n()});var y=k;i.a.config.productionTip=!1,new i.a({el:"#app",router:y,components:{App:o},template:"<App/>"})},OIoa:function(e,t,n){e.exports=n.p+"static/img/sword.c912861.png"},StkB:function(e,t){},ZN77:function(e,t){},aoVB:function(e,t,n){e.exports=n.p+"static/img/stone.f6b589c.png"}},["NHnr"]);
//# sourceMappingURL=app.087fa64570cf2f90968b.js.map